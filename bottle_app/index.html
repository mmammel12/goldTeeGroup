<%
import pymongo
from websiteMongoAuth import connectToDB

scores, custom_handicaps, pars_handicaps = connectToDB()

current_data = pars_handicaps.find_one()
front_9_pars = current_data['front_9_pars']
back_9_pars = current_data['back_9_pars']
front_9_actual = current_data['front_9_handicaps']
back_9_actual = current_data['back_9_handicaps']

custom_data = custom_handicaps.find_one()
front_9_custom = custom_data['front_9_handicaps']
back_9_custom = custom_data['back_9_handicaps']

%>

<!DOCTYPE html>
<html lang="en">
% from HEAD import HTML_HEAD
{{!HTML_HEAD}}
<body>
    <div class="page-container">
        <nav class="navbar navbar-default navbar-fixed-top shadow wbycNav">
            <div class="container pl-0">
                <div class="navbar-header">
                    <a class="d-none d-md-inline pl-3 py-3 logo-full" href="https://www.wbyc.com/" tabindex="0">
                        <img src="/static/images/logo_full.png" srcset="/static/images/logo_full-2x.png 2x" alt="White Bear Yacht Club">
                    </a>
                    <a class="d-md-none logo-mobile" href="https://www.wbyc.com/" tabindex="0">
                        <img src="/static/images/flag_accent.png" srcset="/static/images/flag_accent-2x.png 2x" alt="White Bear Yacht Club">
                    </a>
                    <h2 class="navbar-brand text-light d-none d-md-inline py-0 pl-5 ml-5">Gold Tee Group</h2>
                </div>
            </div>
        </nav>
        <div class="content">
            <div class="container">
                <div class="pt-3 row justify-content-md-center">
                    <div class="col-md-auto">
                        <button class="btn btn-primary btn-sm mt-3 mx-2 text-nowrap btn-wbyc" type="button" data-toggle="collapse" data-target="#actualTableCollapse" aria-expanded="true" aria-controls="actualTableCollapse">
                            Show/Hide Actual Handicaps
                        </button>
                    </div>
                    <div class="col-md-auto">
                        <button class="btn btn-primary btn-sm mt-3 mx-2 text-nowrap btn-wbyc" type="button" data-toggle="collapse" data-target="#customTableCollapse" aria-expanded="true" aria-controls="customTableCollapse">
                            Show/Hide Custom Handicaps
                        </button>
                    </div>
                    <div class="col-md-auto">
                        <button class="btn btn-primary btn-sm mt-3 mx-2 text-nowrap btn-wbyc" type="button" data-toggle="collapse" data-target=".multi-collapse" aria-expanded="true" aria-controls="actualTableCollapse customTableCollapse">
                            Show/Hide Both
                        </button>
                    </div>
                </div>
            </div>
            <div class="collapse multi-collapse" id="actualTableCollapse">
                <div class="container d-none d-md-inline">
                    <table class="table table-striped table-bordered table-sm w-50 mx-auto shadow">
                        <thead>
                            <tr>
                                <th scope="col" colspan="9">Actual Handicaps</th>
                            </tr>
                            <tr>
                                % for num in range(1,10):
                                <th scope="col">Hole {{num}}</th>
                                % end
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                % for handicap in front_9_actual:
                                <td>{{handicap}}</th>
                                % end
                            </tr>
                        </tbody>
                        <thead>
                            <tr>
                                % for num in range(10,19):
                                <th scope="col">Hole {{num}}</th>
                                % end
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                % for handicap in back_9_actual:
                                <td>{{handicap}}</th>
                                % end
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="container-fluid pt-3 d-md-none">
                    <table class="table table-striped table-bordered shadow">
                        <thead>
                            <tr>
                                <th scope="col" colspan="4">Actual Handicaps</th>
                            </tr>
                            <tr>
                                <th scope="col" colspan=2 >Front 9</th>
                                <th scope="col" colspan=2 >Back 9</th>
                            </tr>
                        </thead>
                        <tbody>
                            % for num, front, back in zip(range(1,10), front_9_actual, back_9_actual):
                            <tr>
                                <td>Hole {{num}}</td>
                                <td>{{front}}</th>
                                <td>Hole {{num + 9}}</td>
                                <td>{{back}}</td>
                            </tr>
                            % end
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="collapse multi-collapse" id="customTableCollapse">
                <div class="container d-none d-md-inline">
                    <table class="table table-striped table-bordered table-sm w-50 mx-auto shadow">
                        <thead>
                            <tr>
                                <th scope="col" colspan="9">Custom Handicaps</th>
                            </tr>
                            <tr>
                                % for num in range(1,10):
                                <th scope="col">Hole {{num}}</th>
                                % end
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                % for handicap in front_9_custom:
                                <td>{{handicap}}</th>
                                % end
                            </tr>
                        </tbody>
                        <thead>
                            <tr>
                                % for num in range(10,19):
                                <th scope="col">Hole {{num}}</th>
                                % end
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                % for handicap in back_9_custom:
                                <td>{{handicap}}</th>
                                % end
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="container-fluid pt-3 d-md-none">
                    <table class="table table-striped table-bordered shadow">
                        <thead>
                            <tr>
                                <th scope="col" colspan="4">Custom Handicaps</th>
                            </tr>
                            <tr>
                                <th scope="col" colspan=2 >Front 9</th>
                                <th scope="col" colspan=2 >Back 9</th>
                            </tr>
                        </thead>
                        <tbody>
                            % for num, front, back in zip(range(1,10), front_9_custom, back_9_custom):
                            <tr>
                                <td>Hole {{num}}</td>
                                <td>{{front}}</th>
                                <td>Hole {{num + 9}}</td>
                                <td>{{back}}</td>
                            </tr>
                            % end
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="container">
                <form action="/dataSuccess"
                    method="post"
                    enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="numPlayersSelect">Number of Players:</label>
                        <select class="form-control col-1" id="numPlayersSelect" name="numPlayersSelect">
                            % for num in range(1,24):
                            <option value={{num}}>{{num}}</option>
                            % end
                        </select>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            % for num, par in zip(range(1,10), front_9_pars):
                            % name = "hole" + str(num)
                            <div class="col">
                                <label for="hole1Input">Hole {{num}}</label>
                                <input type="number" class="form-control" id="hole1Input" placeholder={{par}} name={{name}}>
                            </div>
                            %end
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            % for num, par in zip(range(10,19), back_9_pars):
                            % name = "hole" + str(num)
                            <div class="col">
                                <label for="hole1Input">Hole {{num}}</label>
                                <input type="number" class="form-control" id="hole1Input" placeholder={{par}} name={{name}}>
                            </div>
                            %end
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-wbyc" id="submitBtn">Submit</button>
                </form>
            </div>
        </div>
        <footer class="footer">
            <div class="container-fluid">
                <span class="text-light">Copyright ©2020 by <a class="text-light font-weight-bold" href="https://martymammel.com" target="_blank" title="Marty Mammel">Marty Mammel</a> With Permission From <a class="text-light font-weight-bold" href="https://www.wbyc.com/" target="_blank" title="White Bear Yacht Club">White Bear Yacht Club</a>. All Rights Reserved.</span>
            </div>
        </footer>
    </div>
</body>
</html>